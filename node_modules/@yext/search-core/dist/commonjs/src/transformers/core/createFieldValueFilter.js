"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createFieldValueFilter = void 0;
const Matcher_1 = require("../../models/searchservice/common/Matcher");
function createFieldValueFilter(filter) {
    const fieldId = Object.keys(filter)[0];
    const matcher = Object.keys(filter[fieldId])[0];
    let value;
    if (matcher === Matcher_1.Matcher.Between) {
        value = createNumberRangeValue(filter[fieldId][matcher]);
    }
    else {
        value = filter[fieldId][matcher];
    }
    return {
        fieldId: fieldId,
        matcher: matcher,
        value
    };
}
exports.createFieldValueFilter = createFieldValueFilter;
function createNumberRangeValue(value) {
    const numberRangeValue = {};
    Object.keys(value).forEach(limitMatcher => {
        if (limitMatcher === Matcher_1.Matcher.GreaterThan || limitMatcher === Matcher_1.Matcher.GreaterThanOrEqualTo) {
            numberRangeValue.start = { matcher: limitMatcher, value: value[limitMatcher] };
        }
        else if (limitMatcher === Matcher_1.Matcher.LessThan || limitMatcher === Matcher_1.Matcher.LessThanOrEqualTo) {
            numberRangeValue.end = { matcher: limitMatcher, value: value[limitMatcher] };
        }
    });
    return numberRangeValue;
}
//# sourceMappingURL=createFieldValueFilter.js.map